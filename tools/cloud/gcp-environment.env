# GCP 환경 설정 파일
# Cloud Intermediate 과정용 GCP 설정
# 
# 사용법: source gcp-environment.env
# 또는: export $(cat gcp-environment.env | xargs)

# =============================================================================
# GCP 기본 설정
# =============================================================================
export GCP_PROJECT_ID="cloud-intermediate-project"
export GCP_REGION="asia-northeast3"
export GCP_ZONE="asia-northeast3-a"
export GCP_CREDENTIALS_FILE=""

# =============================================================================
# GKE 클러스터 설정
# =============================================================================
export GKE_CLUSTER_NAME="gke-intermediate"
export GKE_NODE_TYPE="e2-medium"
export GKE_NODE_COUNT=2
export GKE_MIN_NODES=1
export GKE_MAX_NODES=4
export GKE_VERSION="1.28"
export GKE_MACHINE_TYPE="e2-medium"

# =============================================================================
# VPC 및 네트워킹 설정
# =============================================================================
export VPC_NAME="cloud-intermediate-vpc"
export VPC_CIDR="10.0.0.0/16"
export SUBNET_CIDR="10.0.1.0/24"
export SUBNET_NAME="cloud-intermediate-subnet"

# =============================================================================
# 보안 설정
# =============================================================================
export FIREWALL_RULE_NAME="cloud-intermediate-fw"
export FIREWALL_DESCRIPTION="Cloud Intermediate 과정용 방화벽 규칙"
export SERVICE_ACCOUNT_NAME="cloud-intermediate-sa"

# =============================================================================
# 태그 설정
# =============================================================================
export ENVIRONMENT_LABEL="learning"
export PROJECT_LABEL="cloudintermediate"
export OWNER_LABEL="cloudintermediate"
export COST_CENTER_LABEL="education"

# =============================================================================
# 모니터링 설정
# =============================================================================
export ENABLE_CLOUD_MONITORING="true"
export ENABLE_PROMETHEUS="true"
export ENABLE_GRAFANA="true"
export MONITORING_NAMESPACE="monitoring"

# =============================================================================
# 로그 설정
# =============================================================================
export LOG_LEVEL="INFO"
export LOG_RETENTION_DAYS=7
export ENABLE_CLOUD_LOGGING="true"

# =============================================================================
# 비용 최적화 설정
# =============================================================================
export ENABLE_PREEMPTIBLE_NODES="false"
export ENABLE_AUTO_SCALING="true"
export ENABLE_CLUSTER_AUTOSCALER="true"
export ENABLE_NODE_POOL_AUTOSCALER="true"

# =============================================================================
# 애플리케이션 설정
# =============================================================================
export APP_NAMESPACE="default"
export APP_REPLICAS=2
export APP_IMAGE_TAG="latest"

# =============================================================================
# 로드밸런서 설정
# =============================================================================
export LB_TYPE="LoadBalancer"
export LB_SCHEME="EXTERNAL"
export LB_PROTOCOL="TCP"
export LB_PORT=80

# =============================================================================
# 데이터베이스 설정 (Cloud SQL)
# =============================================================================
export DB_INSTANCE_NAME="cloud-intermediate-db"
export DB_INSTANCE_TYPE="db-f1-micro"
export DB_ENGINE="POSTGRES"
export DB_VERSION="13"
export DB_NAME="cloudintermediate"
export DB_USERNAME="admin"
export DB_PORT=5432

# =============================================================================
# 스토리지 설정
# =============================================================================
export DISK_TYPE="pd-standard"
export DISK_SIZE=20
export ENABLE_PERSISTENT_DISKS="true"

# =============================================================================
# CI/CD 설정
# =============================================================================
export ENABLE_CLOUD_BUILD="true"
export ENABLE_CLOUD_DEPLOY="true"
export GITHUB_REPO="cloud-intermediate"
export GITHUB_BRANCH="main"

# =============================================================================
# 보안 및 컴플라이언스
# =============================================================================
export ENABLE_ENCRYPTION="true"
export ENABLE_VPC_FLOW_LOGS="true"
export ENABLE_BINARY_AUTHORIZATION="true"
export ENABLE_WORKLOAD_IDENTITY="true"

# =============================================================================
# 개발/테스트 환경 설정
# =============================================================================
export ENVIRONMENT="development"
export DEBUG_MODE="true"
export ENABLE_DEBUG_LOGGING="true"
export SKIP_TEARDOWN="false"

# =============================================================================
# 알림 설정
# =============================================================================
export PUBSUB_TOPIC="cloud-intermediate-alerts"
export SLACK_WEBHOOK_URL=""
export EMAIL_NOTIFICATIONS="false"

# =============================================================================
# 백업 설정
# =============================================================================
export ENABLE_BACKUP="true"
export BACKUP_RETENTION_DAYS=7
export BACKUP_SCHEDULE="0 2 * * *"

# =============================================================================
# 네트워크 정책
# =============================================================================
export ENABLE_NETWORK_POLICIES="true"
export ENABLE_POD_SECURITY_POLICIES="true"
export ENABLE_SERVICE_MESH="false"

# =============================================================================
# 성능 튜닝
# =============================================================================
export ENABLE_CLUSTER_AUTOSCALER="true"
export ENABLE_HORIZONTAL_POD_AUTOSCALER="true"
export ENABLE_VERTICAL_POD_AUTOSCALER="false"
export CPU_REQUEST="100m"
export MEMORY_REQUEST="128Mi"
export CPU_LIMIT="500m"
export MEMORY_LIMIT="512Mi"

# =============================================================================
# Artifact Registry 설정
# =============================================================================
export ARTIFACT_REGISTRY_NAME="cloud-intermediate-registry"
export ARTIFACT_REGISTRY_LOCATION="asia-northeast3"
export ARTIFACT_REGISTRY_FORMAT="DOCKER"

# =============================================================================
# Secret Manager 설정
# =============================================================================
export ENABLE_SECRET_MANAGER="true"
export SECRET_NAME="cloud-intermediate-secrets"

# =============================================================================
# IAM 설정
# =============================================================================
export ENABLE_WORKLOAD_IDENTITY="true"
export SERVICE_ACCOUNT_EMAIL="cloud-intermediate-sa@${GCP_PROJECT_ID}.iam.gserviceaccount.com"